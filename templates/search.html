<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Rosario:400' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="//cdn.jsdelivr.net/npm/keyrune@latest/css/keyrune.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip({ html: true });
        });
    </script>
    <title>{{.Title}}</title>
    {{if not .IsSealed}}
    <script type="text/javascript" src="../js/autocomplete.js"></script>
    <script type="text/javascript" src="../js/fetchnames.js"></script>
    {{end}}
    {{if not (eq .ChartID "")}}
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
    <script type="text/javascript" src="../js/chartopts.js"></script>
    {{end}}
    <style>
        .tooltip-inner {
            font-size: 15px;
        }
    </style>
</head>

<body class="light-theme">
    <script type="text/javascript" src="../js/themechecker.js"></script>
    <nav>
        <ul>
            <li><a href="https://www.patreon.com/ban_community"><img src="img/misc/patreon.png" width=48></a></li>
            <li><a href="/discord"><img src="img/misc/discord.png" width=48></a></li>
            {{range .Nav}}
            <li>
                <a {{if .Active}}class="{{.Class}}" {{end}} href="{{.Link}}">
                    <span>{{.Short}} {{.Name}}</span>
                </a>
            </li>
            {{end}}
            <li>
                <label class="switch">
                    <div>
                        <input type="checkbox" />
                        <span class="slider"></span>
                    </div>
                    <script type="text/javascript" src="../js/nightmode.js"></script>
                </label>
            </li>
        </ul>
    </nav>

    <div class="mainbody">
        {{if ne .ErrorMessage ""}}
        <h1>{{.ErrorMessage}}</h1>
        {{if .ShowPromo}}
        <img class="center" src="img/promo/search.jpg">
        {{end}}
        {{else if eq .Title "Options"}}
        <script type="text/javascript" src="../js/cookies.js"></script>
        <br>

        <script type="text/javascript">
            window.onload = function (e) {
                loadForm("SearchSellersList", "sellers");
                loadForm("SearchVendorsList", "vendors");
                loadForm("SearchMiscOpts", "miscOpts");
                loadRadio("SearchDefaultSort", "defaultSort");
                loadRadio("SearchListingPriority", "listingPriority");
            }
        </script>

        <div class="indent">
            <h2>Stores</h2>
            Select which sellers or vendors you <b>don't</b> want to display in your searches.
            <br>

            <a class="btn warning" onclick="javascript:clearForm('sellers'); clearForm('vendors');"><b>CLEAR</b></a>
            <a class="btn success" onclick="javascript:selectAll('sellers');"><b>Select ALL Sellers</b></a>
            <a class="btn success" onclick="javascript:selectAll('vendors');"><b>Select ALL Vendors</b></a>
            <a class="btn success"
                onclick="javascript:saveForm('SearchSellersList', 'sellers'); saveForm('SearchVendorsList', 'vendors'); window.location.href = '/search'"><b>SAVE</b></a>
        </div>

        <br>
        <div class="indent row">
            <div class="column" id="sellers">
                {{range $i, $key := .SellerKeys}}
                <input type="checkbox" id="s{{$key}}" name="{{$key}}">
                <label for="s{{$key}}">
                    {{scraper_name $key}}
                </label>
                <br>
                {{end}}
            </div>
            <div class="column" id="vendors">
                {{range $i, $key := .VendorKeys}}
                <input type="checkbox" id="v{{$key}}" name="{{$key}}">
                <label for="v{{$key}}">
                    {{scraper_name $key}}
                </label>
                <br>
                {{end}}
            </div>
        </div>

        <br>
        <div class="indent">
            <h2>Result sorting</h2>
            Select how card results should be sorted by.
            <br>

            <a class="btn success"
                onclick="javascript:saveRadio('SearchDefaultSort', 'defaultSort'); window.location.href = '/search'"><b>SAVE</b></a>
        </div>

        <br>
        <div class="indent row">
            <div class="column" id="defaultSort">
                <input type="radio" id="chrono" name="sort" value="chrono" checked>
                <label for="chrono">By chronological order</label>
                <br>
                <input type="radio" id="alpha" name="sort" value="alpha">
                <label for="alpha">By alphabetical order</label>
                <br>
                <input type="radio" id="retail" name="sort" value="retail">
                <label for="retail">By best retail price (off TCGplayer)</label>
                <br>
                <input type="radio" id="buylist" name="sort" value="buylist">
                <label for="buylist">By best buylist price (off Card Kingdom)</label>
                <br>
            </div>
        </div>

        <br>
        <div class="indent">
            <h2>Listing priority</h2>
            Select how price results should be sorted by.
            <br>

            <a class="btn success"
                onclick="javascript:saveRadio('SearchListingPriority', 'listingPriority'); window.location.href = '/search'"><b>SAVE</b></a>
        </div>

        <br>
        <div class="indent row">
            <div class="column" id="listingPriority">
                <input type="radio" id="stores" name="priority" value="stores" checked>
                <label for="stores">Alphabetical, by store name</label>
                <br>
                <input type="radio" id="prices" name="priority" value="prices">
                <label for="prices">Asc for Retail, Desc for Buylist, by prices</label>
                <br>
            </div>
        </div>

        <br>
        <div class="indent">
            <h2>Other preferences</h2>
            Miscellaneous life hacks for Search.
            <br>

            <a class="btn warning" onclick="javascript:clearForm('miscOpts');"><b>CLEAR</b></a>
            <a class="btn success"
                onclick="javascript:saveForm('SearchMiscOpts', 'miscOpts'); window.location.href = '/search'"><b>SAVE</b></a>
        </div>

        <br>
        <div class="indent row">
            <div class="column" id="miscOpts">
                <input type="checkbox" id="hidePromos" name="hidePromos">
                <label for="hidePromos">Hide Promotional entries (<i>promopack, prerelease, etc</i>)</label>
                <br>
                <input type="checkbox" id="hideBLconds" name="hideBLconds">
                <label for="hideBLconds">Hide non-NM Buylist entries</label>
                <br>
                <input type="checkbox" id="skipEmpty" name="skipEmpty">
                <label for="skipEmpty">Skip results with no prices</label>
                <br>
                <input type="checkbox" id="noSyp" name="noSyp">
                <label for="noSyp">Don't show the SYP indication (†)</label>
                <br>
            </div>
        </div>

        {{else}}
        <h1>
            Welcome to BAN {{if .IsSealed}}Sealed{{else}}{{if not (eq .ChartID "")}}Chart{{end}} Search{{end}}

            {{if .TotalUnique}}
            -
            <small><small><small>
                        {{.TotalUnique}}
                        {{if .IsSealed}}product{{else}}card{{end}}{{if gt (len .AllKeys) 1}}s{{end}} found
                        {{if gt .TotalUnique (len .AllKeys)}}
                        ({{len .AllKeys}} shown)
                        {{end}}
                    </small></small></small>
            {{end}}
        </h1>

        {{if .IsSealed}}
        <img id="hoverImage" src="" style="position:absolute; z-index: 3; max-width: 360px; max-height: 360px;" />
        <script type="text/javascript" src="../js/followmouse.js"></script>
        {{end}}

        <div class="indent sticky" style="top: 48px; background-color: var(--background); float:left">
            <form class="search autocomplete" action="" autocomplete="off" spellcheck="false" id="searchform">
                <label style="clear: both; float: left; width: 110%" for="searchbox">
                    {{if not .SearchQuery}}
                    Search for a {{if .IsSealed}}product{{else}}card{{end}}, or... <a class="btn info"
                        href="/random{{if .IsSealed}}sealed{{end}}">surprise me</a>
                    {{else}}
                    Sort by
                    {{if .NoSort}}
                    syntax
                    {{else}}
                    <a class="btn info" href="?q={{.SearchQuery}}&sort=" title="Sort by chronological order">
                        {{if or (eq .SearchSort "chrono") (not .SearchSort)}}<b>{{end}}chrono{{if or (eq .SearchSort
                            "chrono") (not .SearchSort)}}</b>{{end}}
                    </a>
                    {{if or (eq .SearchSort "chrono") (not .SearchSort)}}
                    <a href="?q={{.SearchQuery}}&sort=&reverse={{not .ReverseMode}}"
                        title="Sort by reverse chronological order">🔄</a>
                    {{end}}
                    <a class="btn info" href="?q={{.SearchQuery}}&sort=alpha" title="Sort by alphabetical order">
                        {{if eq .SearchSort "alpha"}}<b>{{end}}alpha{{if eq .SearchSort "alpha"}}</b>{{end}}
                    </a>
                    {{if eq .SearchSort "alpha"}}
                    <a href="?q={{.SearchQuery}}&sort=alpha&reverse={{not .ReverseMode}}"
                        title="Sort by reverse alphabetical order">🔄</a>
                    {{end}}
                    <a class="btn info" href="?q={{.SearchQuery}}&sort=retail"
                        title="Sort by best retail price (off TCGplayer)">
                        {{if eq .SearchSort "retail"}}<b>{{end}}retail{{if eq .SearchSort "retail"}}</b>{{end}}
                    </a>
                    {{if eq .SearchSort "retail"}}
                    <a href="?q={{.SearchQuery}}&sort=retail&reverse={{not .ReverseMode}}"
                        title="Sort by lowest retail price (off TCGplayer)">🔄</a>
                    {{end}}
                    <a class="btn info" href="?q={{.SearchQuery}}&sort=buylist"
                        title="Sort by best buylits price (off Card Kingdom)">
                        {{if eq .SearchSort "buylist"}}<b>{{end}}buylist{{if eq .SearchSort "buylist"}}</b>{{end}}
                    </a>
                    {{if eq .SearchSort "buylist"}}
                    <a href="?q={{.SearchQuery}}&sort=buylist&reverse={{not .ReverseMode}}"
                        title="Sort by lowest buylits price (off Card Kingdom)">🔄</a>
                    {{end}}
                    {{end}}
                    <span class=emoji>
                        <a class="btn info" title="...more surpises" href="/random{{if .IsSealed}}sealed{{end}}">🎰</a>
                    </span>
                    {{end}}
                    {{if not $.IsSealed}}
                    <span class=emoji>
                        <a href="?page=options" title="Search settings">⚙️</a>
                    </span>
                    {{end}}
                </label>
                <input id="searchbox" class="w3-input w3-border w3-round-small search-input"
                    onFocus="this.setSelectionRange(0, this.value.length)" type="text" name="q"
                    placeholder="Enter a {{if .IsSealed}}product{{else}}card{{end}} name" value="{{.SearchQuery}}"
                    maxlength="200" autofocus>
            </form>

            {{if not .IsSealed}}
            <script type="text/javascript">
                autocomplete(document.getElementById("searchform"), document.getElementById("searchbox"));
            </script>
            {{end}}
            {{if and (eq .SearchQuery "") (not .IsSealed)}}
            <div class="indent">
                <h2>BAN Search Guide</h2>
                <div id="accordion">
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse1" style="color: white;">
                                Basic Syntax
                            </a>
                        </div>
                        <div id="collapse1" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>You can set any option in any order, in any amount.</li>
                                <li>Use Pricefall bot notation: <code>name[|code[|number]]{&amp;*~}</code> to search.
                                </li>
                                <li>Invert search parameters with a dash <code>-</code>, i.e<code> -is</code> is the
                                    same as
                                    <code>not</code>
                                </li>
                                <li>Filter <strong>explicitly</strong> by finish by using special characters:
                                    <code>&amp;</code> for
                                    nonfoil, <code>*</code>
                                    for foil, or <code>~</code> for etched.</li>
                                <li>Limited support for tags like <code>(Extended Art)</code>,
                                    <code>(Borderless)</code>,
                                    and<code> (Showcase)</code>.</li>
                            </div>
                        </div>
                    </div>
                    <!-- Card Filters -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse2" style="color: white;">
                                Card Filters
                            </a>
                        </div>
                        <div id="collapse2" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <ul>
                                    <li>
                                        <b>Edition</b>
                                        <ul>
                                            <p>You are able to use either a 3-letter set code, or full set name to
                                                filter by edition.<br>
                                                <code><span data-toggle="tooltip" title="<code>s:AER</code> or
                                                <code>s:'Aether Revolt'</code>">Example</span></code>
                                        </ul>
                                    </li>
                                    <li>
                                        <b>Collector Number</b>
                                        <ul>
                                            <p>Single number: <code> cn NUMBER</code><br>
                                                Range of numbers: <code> cn&gt;NUMBER</code><br>
                                    </ul>
                                </li>
                                <li>
                                    <b>Condition</b>
                                    <ul>
                                        <p>Use <code>cond:<span data-toggle=" tooltip"
                                                    title="NM, SP, MP, HP, PO">COND </span></code>to filter by
                                                condition.<br>
                                                Use <code>cond<b>r</b>:</code> for retail or <code>cond<b>b</b>:</code>
                                                for buylist.
                                    </li>
                                </ul>
                                </li>
                                <li>
                                    <b>Rarity</b>
                                    <ul>
                                        <p>Filter by rarity using
                                            <code>r:<span data-toggle="tooltip" title="mythic, rare, uncommon, common, special, token, oversize">RARITY</span></code><br>
                                            You can also shorten your descriptor to just the <code><span data-toggle="tooltip" title="r:m, r:r, r:u, r:c, r:s, r:t, r:o">first</span></code> letter.
                                        <p>
                                    </ul>
                                </li>
                                <li>
                                    <b>Color and Color Identity</b>
                                    <ul>
                                        <p>
                                            To filter by color use
                                            <code>c:<span data-toggle="tooltip" title="
                                                white, blue, black, red, green">COLOR </span></code>or switch to
                                            <code>ci:COLOR</code> for color identity.<br>
                                            you can also shorthand your selection using <code>c:/ci:<span data-toggle="tooltip" title="w, u, b, r, g">WUBRG</span>
                                            </code>
                                        </p>
                                    </ul>
                                </li>
                                <li>
                                    <b>Finish</b>
                                    <ul>
                                        <p>Use <code>f:VALUE</code> for nonfoil, foil, and etched.</p>
                                    </ul>
                                </li>
                                <li>
                                    <b>Card Type</b>
                                    <ul>
                                        <p>Use <code>t:VALUE</code> for any valid supertype, subtype, or type.</p>
                                    </ul>
                                </li>
                                <li>
                                    <b>Release Date</b>
                                    <ul>
                                        <p>Use <code>date:VALUE, </code>
                                            <code>date&gt;VALUE, </code>or<code> date<V></code>.</p>
                                </li>
                                </ul>
                                </li>
                                <li>
                                    <b>Card ID</b>
                                    <ul>
                                        <p>Use <code>id:VALUE</code> which supports multiple ID types.</p>
                                    </ul>
                                </li>
                                <li>
                                    <b>Card Properties</b>
                                    <p> By using <code>is:VALUE</code> or <code>not:VALUE</code>, one is able to filter using the following descriptors:</p>
                                    <p>
                                        <span data-toggle="tooltip" title="
                                                <b>Generic Properties:<b><br>
                                                    <i>reserved<br> 
                                                    token<br>
                                                    oversize<br>
                                                    funny<br>
                                                    commander<i>
                                                    <br>">Generic,</span>
                                        <span data-toggle="tooltip"
                                            title="<b>Frame Types:<b> <i>fullart (fa)<i><br> <b><i>extendedart (ea)<i><br> 
                                                <b><i>showcase (sc)<i><br> <b><i>reskin<i><br> <b><i>borderless (bd)<i><br> 
                                                    <b><i>gold<i><br> <b><i>retro<i>">Frame,
                                        </span>
                                        <span data-toggle="tooltip" title="
                                                        <b>Promo Types:</b><br>
                                                        <b><i>ampersand, arenaleague, boosterfun, bundle, buyabox, concept, confettifoil,<br>
                                                        draculaseries, draftweekend, galaxyfoil, gameday, gilded, glossy, godzillaseries, halofoil,<br>
                                                        intropack, judgegift, neonink, oilslick, playpromo, playerrewards, prerelease, promopack,<br>
                                                        release, schinesealtart, serialized, starterdeck, stepandcompleat, surgefoil, textured, thick,<br>
                                                        wizardsplaynetwork, promo</i></b>">Promo,</span>
                                        <span data-toggle="tooltip"
                                            title="<b>Language Tags:<b><br> <i>japanese(jp<i>, <b><i>jpn)<i><br> <b><i>phyrexian (ph)<i>">
                                            Language,</span>
                                        <span data-toggle="tooltip"
                                            title="<b>Land Cycles:<b><br> <i>dual<i><br> <b><i>fastland<i><br> <b><i>fetchland<i><br> <b><i>painland<i><br> <b><i>shockland<i><br> <b><i>checkland<i>">
                                            Land-Cycle</span>

                                    </p>
                                </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Search Modes -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse3" style="color: white;">
                                Search Modes
                            </a>
                        </div>
                        <div id="collapse3" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>Use <code>sm:VALUE</code> to set the search mode.</li>
                                <li><code>exact</code>: Default, matches the exact name.</li>
                                <li><code>prefix</code>: Matches names starting with your query.</li>
                                <li><code>any</code>: Matches any occurrence in the name.</li>
                                <li><code>regexp</code>: Uses regular expressions for matching.</li>
                            </div>
                        </div>
                    </div>

                    <!-- Sort Options -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse4" style="color: white;">
                                Sort Options
                            </a>
                        </div>
                        <div id="collapse4" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>Use <code>sort:VALUE</code> to sort results.</li>
                                <li><code>chrono</code>: By print date (default).</li>
                                <li><code>alpha</code>: Alphabetically.</li>
                                <li><code>retail</code>: By TCG price.</li>
                                <li><code>buylist</code>: By CK buylist price.</li>
                            </div>
                        </div>
                    </div>

                    <!-- Seller and Vendor Filters -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse5" style="color: white;">
                                Seller and Vendor Filters
                            </a>
                        </div>
                        <div id="collapse5" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>Use <code>store:shorthand</code> to filter by specific sellers or stores.</li>
                                <li>Use <code>seller:shorthand</code> and <code>vendor:shorthand</code> for specific
                                    types of stores.</li>
                                <li>Well-known store names have special tags like <code>TCG_LOW</code>,
                                    <code>TCG_MARKET</code>,
                                    etc.
                                </li>
                            </div>
                        </div>
                    </div>

                    <!-- Price and Availability -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse6" style="color: white;">
                                Price and Availability
                            </a>
                        </div>
                        <div id="collapse6" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>Use <code>price&gt;VALUE</code> or <code>price<V></code> to filter by price range.
                                </li>
                                <li>Use <code>skip:retail</code> and <code>skip:buylist</code> to include/exclude
                                    specific prices.</li>
                                <li>Filter by store region using <code>region:VALUE</code> such
                                    as:<code> us, eu, or jp</code></li>
                            </div>
                        </div>
                    </div>
                    <!-- Additional Features -->
                    <div class="card" style="background-color: #222222; color: white;">
                        <div class="card-header" style="background-color: #222222; color: white;">
                            <a class="card-link" data-toggle="collapse" href="#collapse7" style="color: white;">
                                Additional Features
                            </a>
                        </div>
                        <div id="collapse7" class="collapse" data-parent="#accordion">
                            <div class="card-body" style="background-color: #222222; color: white;">
                                <li>Click on 📊 for historical data.</li>
                                <li>Press 📖 to see all products containing a reprint of a given card.</li>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    $(function () { $('[data-toggle="tooltip"]').tooltip() })
                </script>
                {{else if and (eq .SearchQuery "") (.IsSealed)}}
                <p style="max-width: 70%">
                    Jump to
                    {{range $key := .EditionSort}}
                    <a class="btn normal" href="#{{.}}">{{.}}</a>
                    {{end}}
                    <a class="btn normal" href="#faq">F.A.Q.</a>
                </p>

                {{range $key := .EditionSort}}
                <div class="sticky" style="top: 48px; background-color: var(--background);">
                    <span class="anchor" id="{{.}}"></span>
                    <h3 class="storename">{{.}}</a></h3>
                    <hr width=15%>
                </div>

                <div class="indent" style="max-width: 85%; padding-top:10px">
                    {{$editionList := index $.EditionList $key }}
                    {{range $editionList}}
                    <nobr>
                        <i class="ss ss-{{.Keyrune}} ss-2x ss-fw"></i>
                        <a class="btn normal" href="/sealed?q=s:{{.Code}}">
                            {{.Name}}
                        </a>
                    </nobr>
                    {{end}}
                </div>
                <br>
                {{end}}

                <div style="max-width: 85%; padding-top:10px">
                    <span class="anchor" id="faq"></span>
                    <h3>F.A.Q.</h3>
                    <br>
                    <div id="accordion">
                        <!-- How is EV calculated? -->
                        <div class="card" style="background-color: #222222; color: white;">
                            <div class="card-header" style="background-color: #222222; color: white;">
                                <a class="card-link" data-toggle="collapse" href="#collapse1" style="color: white;">
                                    How is EV calculated?
                                </a>
                            </div>
                            <div id="collapse1" class="collapse" data-parent="#accordion">
                                <div class="card-body" style="background-color: #222222; color: white;">
                                    <p>
                                        For any product with a static decklist, the card values are just summed up and
                                        displayed.
                                        For Booster based products, a simulation is created to emulate actually opening
                                        that product.
                                        To smooth variance, we run this simulation thousands of times - and return the
                                        mean and median
                                        of the result.
                                        Note that every product is individually run, so a booster box won't exactly be
                                        36 times theprice
                                        of a booster pack.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!-- How do you emulate booster openings? -->
                        <div class="card" style="background-color: #222222; color: white;">
                            <div class="card-header" style="background-color: #222222; color: white;">
                                <a class="card-link" data-toggle="collapse" href="#collapse2" style="color: white;">
                                    How do you emulate booster openings?
                                </a>
                            </div>
                            <div id="collapse2" class="collapse" data-parent="#accordion">
                                <div class="card-body" style="background-color: #222222; color: white;">
                                    <p>We use data from multiple projects, in paritcular we derive the collation
                                        information from the <a href="https://www.lethe.xyz/mtg/collation/">Lethe
                                            project</a>,
                                        the distribution of cards in the boosters from <a
                                            href="https://github.com/taw/magic-search-engine">mtg.wft search engine</a>,
                                        the contents description from <a
                                            href="https://github.com/mtgjson/mtg-sealed-content">MTGJSON</a>,
                                        and the decklists come from <a
                                            href="https://github.com/taw/magic-preconstructed-decks">this
                                            repository</a>.
                                        Please refer to each project website to know more how estimations works (and to
                                        help out with
                                        data ingestion).</p>
                                </div>
                            </div>
                        </div>
                        <!-- Can you describe the data sources available? -->
                        <div class="card" style="background-color: #222222; color: white;">
                            <div class="card-header" style="background-color: #222222; color: white;">
                                <a class="card-link" data-toggle="collapse" href="#collapse3" style="color: white;">
                                    Can you describe the data sources available?
                                </a>
                            </div>
                            <div id="collapse3" class="collapse" data-parent="#accordion">
                                <div class="card-body" style="background-color: #222222; color: white;">
                                    <p>There are three EV-dependent data sources:</p>
                                    <ul>
                                        <li><i>TCG Low</i>, which reflects the lowest possible value on TCG (excluding
                                            shipping),
                                        <li><i>TCG Direct</i>, which represents the Direct <u>price minus fees</u> that
                                            the cards could
                                            be sold at, and
                                        <li><i>CK Buylist, which shows how much a given set of cards could be sold to
                                                the vendor.
                                                <p>Note that TCG Direct prices could be sometimes skewed due to
                                                    ridiculous prices being
                                                    set by sellers "parking" their cards - we try to work around this by
                                                    capping the
                                                    maximum value to twice as much as TCG Low when we're able to detect
                                                    such an offset.
                                                    <br>
                                                    The other prices shown under <i>Available offers</i> represent the
                                                    prices of the
                                                    sealed products as available from different stores.
                                                </p>
                                </div>
                            </div>
                        </div>
                        <!-- What's the difference between mean and median? -->
                        <div class="card" style="background-color: #222222; color: white;">
                            <div class="card-header" style="background-color: #222222; color: white;">
                                <a class="card-link" data-toggle="collapse" href="#collapse4" style="color: white;">
                                    What's the difference between mean and median?
                                </a>
                            </div>
                            <div id="collapse4" class="collapse" data-parent="#accordion">
                                <div class="card-body" style="background-color: #222222; color: white;">
                                    <p>
                                        From <a
                                            href="https://www.khanacademy.org/math/cc-sixth-grade-math/cc-6th-data-statistics/mean-and-median/v/statistics-intro-mean-median-and-mode">Khan
                                            Academy</a>: "The mean (average) of a data set is found by adding all
                                        numbers in the data
                                        set and then dividing by the number of values in the set.<br>
                                        The median is the middle value when a data set is ordered from least to
                                        greatest."
                                        Also from <a
                                            href="https://towardsdatascience.com/mean-or-median-choose-based-on-the-decision-not-the-distribution-f951215c1376">towardsdatascience</a>:
                                        "The mean is typically better when the data follow a symmetric distribution.
                                        When the data is
                                        skewed, the median is more useful because the mean will be distorted by
                                        outliers."</p>
                                </div>
                            </div>
                        </div>
                        <div class="card" style="background-color: #222222; color: white;">
                            <div class="card-header" style="background-color: #222222; color: white;">
                                <a class="card-link" data-toggle="collapse" href="#collapse4" style="color: white;">
                                    What are the custom buttons next to product titles for (🎁 and 🔍)?
                                </a>
                            </div>
                            <div id="collapse4" class="collapse" data-parent="#accordion">
                                <div class="card-body" style="background-color: #222222; color: white;">
                                    <p>
                                        These two buttons lead to different search options:<br>
                                        * the 🎁 (when available) will similuate opening a pack using the information
                                        available. Every
                                        run is fully randomized and unpredictable;<br>
                                        * the 🔍 will unpack a product and list all its possible contents (at most one
                                        copy per result).
                                        This means that a booster box will only list a single booster pack, while a
                                        booster pack will
                                        display all possible picks.<br>
                                        In both cases, once in the search page, you can add search terms normally to
                                        filter for color,
                                        rarities, and names using the common search syntax.</p>
                                </div>
                            </div>
                        </div>

                        {{else}}
                        <script type="text/javascript" src="../js/copy2clip.js"></script>

                        <script type="text/javascript">
                            function updateSidebar(src, printings, products) {
                                { { if not.IsSealed} }
                                document.getElementById('cardImage').src = src;
                                { {else } }
                                document.getElementById('hoverImage').src = src;
                                { { end } }
                                document.getElementById('printings').innerHTML = printings;

                                if (products === "") {
                                    products = "n/a"
                                }
                                document.getElementById('products').innerHTML = products;
                            }

                            function getLastSold(uuid) {
                                fetch('/api/tcgplayer/lastsold/' + uuid)
                                    .then((response) => response.json())
                                    .then((data) => {
                                        document.getElementById('lastsolda' + uuid).setAttribute("href", "javascript:void(0)");
                                        let table = document.getElementById(uuid);
                                        table.style.display = "";
                                        document.getElementById('lastsalesth').style.display = "";

                                        if (data.length == 0) {
                                            table.innerHTML = ' \
                                <tr style="background-color:rgba(0, 0, 0, 0);"> \
                                    <td colspan="4"> <center> N/A </center> </td> \
                                </tr>';
                                        }
                                        data.forEach(element => {
                                            let newRow = table.insertRow()

                                            let orderCell = newRow.insertCell();
                                            let formatDate = new Date(element.orderDate);
                                            let timestamp = formatDate.toISOString().slice(0, 10) + " " + formatDate.toLocaleTimeString();
                                            let anchor = document.createElement("a")
                                            anchor.classList.add("btn", "default");
                                            anchor.innerText = timestamp;
                                            orderCell.appendChild(anchor);

                                            let condCell = newRow.insertCell();
                                            condCell.style.textAlign = "center";
                                            let condText = document.createTextNode(element.condition.replace(/[^A-Z]/g, '').replace('LP', 'SP'));
                                            condCell.appendChild(condText);

                                            let priceCell = newRow.insertCell();
                                            priceCell.style.textAlign = "center";
                                            let priceText = document.createTextNode("$ " + (element.purchasePrice + element.shippingPrice).toFixed(2));
                                            priceCell.appendChild(priceText);

                                            let qtyCell = newRow.insertCell();
                                            qtyCell.style.textAlign = "center";
                                            let qtyText = document.createTextNode(element.quantity + "x");
                                            qtyCell.appendChild(qtyText);
                                        });
                                    });
                            }
                        </script>

                        {{$emptyImg := "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ybBAEAAAAALAAAAAABAAEAAAIBRAA7"}}
                        <div>
                            <table style="float: left; background-color: var(--background); width:354px">
                                {{if .IsSealed}}
                                <tr class="no-hover" style="background-color: var(--background)">
                                    <td>
                                        <div id="printings"
                                            style="text-align: center; max-width:354px; display: block;"></div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <center>
                                            <h4>Available in</h4>
                                        </center>
                                        <div id="products" style="text-align: center; max-width:354px; display: block;">
                                        </div>
                                    </td>
                                </tr>
                                {{else}}
                                <tr class="no-hover" style="background-color: var(--background)">
                                    <td>
                                        <img id="cardImage" src="" width="354" height="493" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div id="printings"
                                            style="text-align: center; max-width:354px; display: block;"></div>
                                        {{if .CanShowAll}}
                                        <center>
                                            <a class="btn info" href="search?q={{.CleanSearchQuery}}">Show all
                                                versions</a>
                                        </center>
                                        {{end}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <center>
                                            <h4>Available in</h4>
                                        </center>
                                        <div id="products" style="text-align: center; max-width:354px; display: block;">
                                        </div>
                                    </td>
                                </tr>
                                {{if not (eq .Alternative "")}}
                                <tr>
                                    <td>
                                        <center>
                                            <a class="btn warning" href="/search?chart={{.Alternative}}">Switch
                                                Foil/Non-Foil</a>
                                        </center>
                                    </td>
                                </tr>
                                {{end}}
                                {{if not (eq .AltEtchedId "")}}
                                <tr>
                                    <td>
                                        <center>
                                            <a class="btn warning" href="/search?chart={{.AltEtchedId}}">Switch
                                                Etched/Non-Etched</a>
                                        </center>
                                    </td>
                                </tr>
                                {{end}}
                                {{if not (eq .StocksURL "")}}
                                <tr>
                                    <td>
                                        <center>
                                            <a class="btn success" href="{{.StocksURL}}" target="_blank">Check MTGStocks
                                                charts</a>
                                        </center>
                                    </td>
                                </tr>
                                {{end}}
                                {{if .CanDownloadCSV}}
                                <tr>
                                    <td>
                                        <center>
                                            Download prices as CSV<br>
                                            <a class="btn success" href="search?q={{.SearchQuery}}&downloadCSV=retail"
                                                target="_blank">Retail</a>
                                            <a class="btn warning" href="search?q={{.SearchQuery}}&downloadCSV=buylist"
                                                target="_blank">Buylist</a>
                                        </center>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <center>
                                            Load search in Uploader<br>
                                            <form action="/upload" method="post">
                                                <input id="mode" type="hidden" name="mode" value="false" />
                                                {{range .CardHashes}}
                                                <input type="hidden" name="hashes" value="{{.}}" />
                                                {{end}}
                                                <a class="btn success" style="text-align: center;"
                                                    onclick='document.getElementById("mode").value=false; this.parentNode.submit(); return false;'>Retail</a>
                                                <a class="btn warning" style="text-align: center;"
                                                    onclick='document.getElementById("mode").value=true; this.parentNode.submit(); return false;'>Buylist</a>
                                                <noscript>
                                                    <input type="submit" value="Check Uploader!" />
                                                </noscript>
                                            </form>
                                        </center>
                                    </td>
                                </tr>
                                {{end}}
                                {{end}}
                                <tr>
                                    <td style="background-color: var(--background);">
                                        {{if .HasReserved}}
                                        <h4>
                                            {{if not (eq .ChartID "")}}<center>{{else}}* ={{end}}
                                                Part of the <a href="https://mtg.gamepedia.com/Reserved_List">Reserved
                                                    List</a>
                                                {{if not (eq .ChartID "")}}</center>{{end}}
                                        </h4>
                                        {{end}}
                                        {{if .HasStocks}}
                                        <h4>
                                            {{if not (eq .ChartID "")}}<center>{{else}}• ={{end}}
                                                On <a href="https://mtgstocks.com/interests">MTGStocks Interests</a>
                                                page
                                                {{if not (eq .ChartID "")}}</center>{{end}}
                                        </h4>
                                        {{end}}
                                        {{if .HasSypList}}
                                        <h4>
                                            {{if not (eq .ChartID "")}}<center>{{else}}† ={{end}}
                                                Found in the <a
                                                    href="https://help.tcgplayer.com/hc/en-us/articles/360054178934-Store-Your-Products-SYP-Pull-Sheet">SYP
                                                    Pull Sheet</a>
                                                {{if not (eq .ChartID "")}}</center>{{end}}
                                        </h4>
                                        {{end}}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="indent sticky">
                        {{$firstImg := ""}}
                        {{$firstPrint := ""}}
                        {{$firstProduct := ""}}

                        {{if not (eq .ChartID "")}}
                        <div style="margin-left: 10px; float: left;">
                            <canvas id="cardChart" width="740" height="420"></canvas>
                            <br>
                            <hr>
                            <br>
                        </div>
                        <script>
                            var ctx = document.getElementById('cardChart').getContext('2d');
                            var cardChart = new Chart(ctx, {
                                type: 'banWithLine',
                                data: {
                                    labels: {{.AxisLabels }},
                            datasets: [
                                {{ range .Datasets }}
                                {
                                    label: {{.Name }},
                                data: {{.Data }},
                                hidden: {{.Hidden }},
                                backgroundColor: {{.Color }},
                                borderColor: {{.Color }},
                                fill: false,
                                pointRadius: 0,
                                        },
                                {{ end }}
                            ]
                            },
                            options: getChartOpts({{ len .AxisLabels }}),
                        });
                        </script>
                        {{end}}

                        <table style="background-color: var(--background); float:left;" {{if
                            .IsSealed}}onmouseout="document.getElementById('hoverImage').src='{{$emptyImg}}';" {{end}}>
                            {{if .AllKeys}}
                            <tr>
                                <th class="stickyCategory">
                                    <h2 align=center>Sellers</h2>
                                </th>
                                <th class="stickyCategory">
                                    <h2 align=center>Buyers</h2>
                                </th>
                                <th class="stickyCategory">
                                    <h2 align=center style="display:none" id="lastsalesth">Last Sales</h2>
                                </th>
                            </tr>
                            {{end}}

                            {{range $cardId := .AllKeys}}
                            {{$card := (index $.Metadata $cardId)}}
                            {{if eq $firstImg ""}}
                            {{$firstImg = $card.ImageURL}}
                            {{$firstPrint = $card.Printings}}
                            {{$firstProduct = $card.Products}}
                            {{end}}

                            <tr onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});"
                                title="{{$card.Title}}">
                                <th colspan="3" class="wrap stickyHeader"
                                    style="text-align: left; vertical-align: middle;">
                                    <table style="margin:0 0 0 18">
                                        <tr style="background-color:rgba(0, 0, 0, 0);">
                                            <td rowspan=2>
                                                <a href="search?q=s:{{$card.SetCode}}">
                                                    <i class="ss {{$card.Keyrune}} ss-2x ss-fw"></i>
                                                </a>
                                            </td>
                                            <td width=100%>
                                                <a href="{{$card.SearchURL}}">
                                                    {{$card.Name}}
                                                </a>
                                                {{if ne $card.Variant ""}}
                                                <i>({{$card.Variant}})</i>
                                                {{end}}
                                                {{if $card.Reserved}}
                                                *
                                                {{end}}
                                                {{if $card.Stocks}}
                                                •
                                                {{end}}
                                                {{if $card.SypList}}
                                                †
                                                {{end}}
                                            </td>
                                            {{if $card.Sealed}}
                                            {{if $card.Booster}}
                                            <td rowspan=2>
                                                <a href='/search?q=unpack:"{{$card.Name}}"'
                                                    title="Simulate opening a booster pack"><span
                                                        class="emoji">🎁</span></a>
                                            </td>
                                            {{end}}
                                            <td rowspan=2>
                                                <a href='/search?q={{if $card.Booster}}contents{{else}}decklist{{end}}:"{{$card.Name}}"'
                                                    title="Search what can be found in this product"><span
                                                        class="emoji">🔎</span></a>
                                            </td>
                                            {{else}}
                                            <td rowspan=2>
                                                <a href='/sealed?q=container:"{{$card.Name}}"'
                                                    title="Search which products can contain a reprint"><span
                                                        class="emoji">📖</span></a>
                                            </td>
                                            {{end}}
                                            <td rowspan=2>
                                                <span class="emoji" style="cursor: pointer;"
                                                    onclick="navigator.clipboard.writeText('{{$card.Name}}'); waithide(this)"
                                                    title="Copy to clipboard">📝</span>
                                            </td>
                                            {{if not $.IsSealed}}
                                            <td rowspan=2>
                                                <a href="https://scryfall.com/card/{{tolower $card.SetCode}}/{{$card.Number}}"
                                                    title="Check this card on Scryfall.com" target=_blank><img width=28
                                                        src="img/logo/scryfall.svg"></a>
                                            </td>
                                            {{end}}
                                            {{if $card.TCGId}}
                                            <td rowspan=2>
                                                <a href="https://store.tcgplayer.com/admin/product/manage/{{$card.TCGId}}"
                                                    title="Manage your TCGplayer inventory" target=_blank><img width=22
                                                        src="img/logo/tcgapp.png"></a>
                                            </td>
                                            <td rowspan=2>
                                                <a href="javascript:getLastSold('{{$cardId}}')"
                                                    title="Retrieve last sales on TCG" id="lastsolda{{$cardId}}"><span
                                                        class="emoji">💸</span></a>
                                            </td>
                                            {{end}}
                                            {{if eq $.ChartID ""}}
                                            <td rowspan=2>
                                                <span class="emoji">
                                                    <a href="?chart={{$cardId}}" title="See historical data">📊</a>
                                                </span>
                                            </td>
                                            {{end}}
                                        </tr>
                                        <tr style="background-color:rgba(0, 0, 0, 0); margin-bottom: 0px;">
                                            <td>
                                                <h6>
                                                    <a
                                                        href="?q=s:{{$card.SetCode}}{{if $card.Date}} date:{{$card.Date}}{{end}}">{{$card.Title}}</a>
                                                    {{if $card.SourceSealed}}
                                                    - <a href="/sealed?q=container:{{$card.UUID}}">Found in {{len
                                                        $card.SourceSealed}} product{{if gt (len $card.SourceSealed)
                                                        1}}s{{end}}</a>
                                                    {{end}}
                                                </h6>
                                            </td>

                                        </tr>
                                    </table>
                                </th>
                            </tr>

                            <tr class="no-hover" style="background-color:rgba(0,0,0,0);"
                                onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});"
                                style="background-color:rgba(0, 0, 0, 0);">
                                {{$condsEntry := (index $.FoundSellers $cardId)}}
                                <td
                                    style="vertical-align: {{if not $condsEntry}}middle{{else}}top{{end}}; padding: 0; margin: 0;">
                                    <table class="searchResults" style="margin: 0 6px 0 12px;">
                                        {{if not $condsEntry}}
                                        <tr onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});"
                                            style="background-color:rgba(0, 0, 0, 0);">
                                            <td colspan="4">
                                                <center>
                                                    <i>No offers</i>
                                                </center>
                                            </td>
                                        </tr>
                                        {{end}}
                                        {{range $conditions := $.CondKeys}}
                                        {{$entries := (index $condsEntry $conditions)}}
                                        {{if ne $conditions "INDEX"}}
                                        {{if $entries}}
                                        <tr onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}});">
                                            <td colspan="4" style="padding-top: 8px; padding-bottom: 8px"><i>{{if
                                                    $.IsSealed}}Available offers{{else}}Conditions:
                                                    {{$conditions}}{{end}}</i></td>
                                        </tr>
                                        {{end}}
                                        {{end}}
                                        {{range $entries}}
                                        <tr onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}});">
                                            <td>
                                                {{if eq .URL ""}}
                                                <a class="btn default">
                                                    {{else}}
                                                    <a class="btn normal" href="{{.URL}}" target="_blank"
                                                        rel="nofollow">
                                                        {{end}}
                                                        {{.ScraperName}}
                                                        {{if ne $conditions "INDEX"}}
                                                        {{.Country}}
                                                        {{end}}
                                                    </a>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                $ {{printf "%.2f" .Price}}
                                            </td>
                                            {{if .IndexCombined}}
                                            <td style="text-align: center; vertical-align: middle;">
                                                /
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                $ {{printf "%.2f" .Secondary}}
                                            </td>
                                            {{else}}
                                            <td>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                {{if .BundleIcon}}
                                                <img style="padding-top:4px;" src="{{.BundleIcon}}">
                                                {{else if not .NoQuantity}}
                                                {{.Quantity}}
                                                {{end}}
                                            </td>
                                            {{end}}
                                        </tr>
                                        {{end}}
                                        {{end}}
                                    </table>
                                </td>

                                {{$condsEntry := (index $.FoundVendors $cardId)}}
                                <td
                                    style="vertical-align: {{if not $condsEntry}}middle{{else}}top{{end}}; padding: 0; margin: 0;">
                                    <table class="searchResults" style="margin: 0 6px 0 12px;">
                                        {{if not $condsEntry}}
                                        <tr onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});"
                                            style="background-color:rgba(0, 0, 0, 0);">
                                            <td colspan="4">
                                                <center>
                                                    <i>No offers</i>
                                                </center>
                                            </td>
                                        </tr>
                                        {{end}}
                                        {{range $conditions := $.CondKeys}}
                                        {{$entries := (index $condsEntry $conditions)}}
                                        {{if ne $conditions "INDEX"}}
                                        {{if $entries }}
                                        <tr
                                            onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});">
                                            <td colspan="4" style="padding-top: 8px; padding-bottom: 8px"><i>{{if
                                                    $.IsSealed}}Available offers{{else}}Conditions:
                                                    {{$conditions}}{{end}}</i></td>
                                        </tr>
                                        {{end}}
                                        {{end}}
                                        {{range $entries}}
                                        <tr
                                            onmouseover="updateSidebar({{$card.ImageURL}}, {{$card.Printings}}, {{$card.Products}});">
                                            <td>
                                                {{if eq .URL ""}}
                                                <a class="btn default">
                                                    {{else}}
                                                    <a class="btn normal" href="{{.URL}}" target="_blank"
                                                        rel="nofollow">
                                                        {{end}}
                                                        {{.ScraperName}} {{.Country}}
                                                    </a>
                                            </td>
                                            <td {{if .Credit}}title="Credit: $ {{printf " %.2f" .Credit}}"{{end}}>
                                                $ {{printf "%.2f" .Price}}
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                {{if eq $conditions "NM"}}
                                                {{if ne .Ratio 0.0}}{{printf "%.2f" .Ratio}} %{{end}}
                                                {{end}}
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                {{if and .Quantity (eq $conditions "NM")}}
                                                {{.Quantity}}
                                                {{end}}
                                            </td>
                                        </tr>
                                        {{end}}
                                        {{end}}
                                    </table>
                                </td>

                                <td style="vertical-align: top; padding: 0; margin: 0;">
                                    <table class="searchResults" style="margin: 0 12px 0 6px; display:none"
                                        id="{{$cardId}}">
                                    </table>
                                </td>
                            </tr>
                            {{end}}
                            {{if .CurrentIndex}}
                            <tr style="background-color: var(--headerbackground);">
                                <td colspan="3" style="text-align: center; vertical-align: middle;">
                                    <p style="display: inline;">
                                        {{if ne .CurrentIndex 1}}
                                        <a class="pagination"
                                            href="?q={{.SearchQuery}}&p=1&sort={{.SearchSort}}&reverse={{.ReverseMode}}">
                                            <<> <a class="pagination"
                                                    href="?q={{.SearchQuery}}&p={{.PrevIndex}}&sort={{.SearchSort}}&reverse={{.ReverseMode}}"><i
                                                        class="arrow left"></i></a>
                                                {{end}}
                                                {{.CurrentIndex}} / {{.TotalIndex}}
                                                {{if ne .CurrentIndex .TotalIndex}}
                                                <a class="pagination"
                                                    href="?q={{.SearchQuery}}&p={{.NextIndex}}&sort={{.SearchSort}}&reverse={{.ReverseMode}}"><i
                                                        class="arrow right"></i></a>
                                                <a class="pagination"
                                                    href="?q={{.SearchQuery}}&p={{.TotalIndex}}&sort={{.SearchSort}}&reverse={{.ReverseMode}}">&gt;</a>
                                                {{end}}
                                    </p>
                                </td>
                            </tr>
                            {{end}}
                            {{if ne .InfoMessage ""}}
                            <tr>
                                <td colspan="2" style="text-align: center; vertical-align: middle;">
                                    <h4 class="indent"><i>{{.InfoMessage}}</i></h4>
                                </td>
                            </tr>
                            {{end}}
                        </table>
                        {{if eq $firstImg ""}}
                        {{$firstImg = "https://cards.scryfall.io/back.png"}}
                        {{end}}
                        {{if .IsSealed}}
                        {{$firstImg = $emptyImg}}
                        {{end}}
                        <script type="text/javascript">
                            updateSidebar({{ $firstImg }}, {{ $firstPrint }}, {{ $firstProduct }});
                        </script>
                        <script>
                            var coll = document.getElementsByClassName("collapsible");
                            var i;

                            for (i = 0; i < coll.length; i++) {
                                coll[i].addEventListener("click", function () {
                                    this.classList.toggle("active");
                                    var content = this.nextElementSibling;
                                    if (content.style.display === "block") {
                                        content.style.display = "none";
                                    } else {
                                        content.style.display = "block";
                                    }
                                });
                            }
                        </script>
                    </div>
                    {{end}}
                    <div style="clear:both;"></div>
                    {{end}}
                    <br>
                </div>
</body>

</html>