<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <link href='https://fonts.googleapis.com/css?family=Rosario:400' rel='stylesheet' type='text/css'>
    <meta name='impact-site-verification' value='77b54a05-53ed-42d4-b087-cb40fa950018' />
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
    <title>{{.Title}}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 400px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input {
            width: 100%;
            padding: 5px;
            border: 1px solid #ced4da;
            border-radius: 3px;
        }

        .form-group button {
            padding: 7px 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

        .form-group button:hover {
            background-color: #0056b3;
        }

        .form-group span {
            display: block;
            margin-top: 5px;
            font-size: 14px;
            color: #dc3545;
        }
    </style>
</head>

<body class="light-theme">
    <script type="text/javascript" src="../js/themechecker.js"></script>
    <nav>
        <ul>
            <li><a href="/discord"><img src="img/misc/discord.png" width=48></a></li>
            {{range .Nav}}
            <li>
                <a {{if .Active}}class="{{.Class}}" {{end}} href="{{.Link}}">
                    <span>{{.Short}} {{.Name}}</span>
                </a>
            </li>
            {{end}}
            <li>
                <label class="switch">
                    <div>
                        <input type="checkbox" />
                        <span class="slider"></span>
                    </div>
                    <script type="text/javascript" src="../js/nightmode.js"></script>
                </label>
            </li>
        </ul>
    </nav>
    <div class="card">
        <form id="signup-form">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" required>
            </div>
            <div class="form-group">
                <button type="submit">Sign-up</button>
            </div>
        </form>
        <form id="signin-form">
            <div class="form-group">
                <label for="signin-email">Email:</label>
                <input type="email" id="signin-email" required>
            </div>
            <div class="form-group">
                <label for="signin-password">Password:</label>
                <input type="password" id="signin-password" required>
            </div>
            <div class="form-group">
                <button type="submit">Sign-in</button>
            </div>
        </form>
    </div>
    <div>
        <form id="signup-form">
            <input type="text" id="email" placeholder="Email" />
            <input type="password" id="password" placeholder="Password" />
            <button type="submit">Sign Up</button>
        </form>
    </div>
    <div>
        <form id="signin-form">
            <input type="text" id="signin-email" placeholder="Email" />
            <input type="password" id="signin-password" placeholder="Password" />
            <button type="submit">Sign In</button>
        </form>
    </div>
    <div class="footer">&copy; 2019-2023 MTGBAN Limited<br>
    </div>
    <script type="module">
        // required SDK functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { GoogleAuthProvider } from "firebase/auth"
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"

        // Firebase configuration
        const config = {
            apiKey: "AIzaSyA3NJHS3hDkXyw0TFuBsGWB6A4o8PghimQ",
            authDomain: "ban-on-fire.firebaseapp.com",
            projectId: "ban-on-fire",
            storageBucket: "ban-on-fire.appspot.com",
            messagingSenderId: "500521386178",
            appId: "1:500521386178:web:8bfb5f9032c040a162bb5b",
        };
        firebase.initializeApp(config);

        // User login function
        function loginUser() {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;

            // API call to the back-end
            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email, password })
            })
                .then(response => response.json())
                .then(data => {
                    // Handle the response from the back-end
                    console.log(data);
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const signupForm = document.getElementById('signup-form');
        const signinForm = document.getElementById('signin-form');
        // Handle sign-up events
        signupForm.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent the form from submitting
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Sign-up successful
                    console.log('User signed up:', userCredential.user);
                })
                .catch((error) => {
                    // Sign-up failed
                    console.error('Error signing up:', error);
                }
                );
        }
        );
    </script>
    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
</body>

</html>